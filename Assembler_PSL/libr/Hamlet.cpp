#include "Hamlet.h"


int main()
{
    setlocale(LC_ALL, "ru_RU.cp1251");

    struct Text Denmark_sht = {};

    char name[100] = "";

    printf("Input name text file:\n");

    scanf("%s", name);

    FILE *in = fopen (name, "rb");

    if (check_input_file(in) == -1) return 1;

    if (input_struct(in, &Denmark_sht) == 1)
    {
        printf("null pointer of text_array\n");
        return 1;
    }

    fclose(in);

    paramon_sort(Denmark_sht.linii, Denmark_sht.quantity_lines, comparator_paramonator);

    FILE* out = fopen("Text_sorted.txt", "w");
    assert(out != nullptr);

    fprintf(out, "Sorted text\n\n");
    output_file(out, &Denmark_sht);
    fprintf(out, "\n\n");

    fclose(out);

    bubble_sort(Denmark_sht.linii, Denmark_sht.quantity_lines, comparator_refrigerator);

    out = fopen("Text_sorted.txt", "a");
    assert(out != nullptr);

    fprintf(out, "Reverse sorted text\n\n");
    output_file(out, &Denmark_sht);
    fprintf(out, "\n\n");

    fprintf(out, "Original text\n\n");
    output_text_array(out, &Denmark_sht);
    fclose(out);


    free_memory(&Denmark_sht);


printf ("__________________________________________________111_______\n"  // Не без кота
        "________________________________________________¶¶¶¶¶_______\n"
        "______________________________________________¶¶¶¶1_________\n"
        "_____________________________________________¶¶¶____________\n"
        "____________________________________________¶¶¶_____________\n"
        "____________________________________________¶¶¶_____________\n"
        "_____________________________________________¶¶¶¶1111_______\n"
        "______________________________________________1¶¶¶¶¶¶¶¶_____\n"
        "____________________________________________________1¶¶¶____\n"
        "__________________________1¶¶_________________________¶¶¶___\n"
        "________________________1¶¶¶1_________________________¶¶¶___\n"
        "_________11___________1¶¶¶11__________________________¶¶¶___\n"
        "_________1¶¶¶¶¶11¶¶¶¶¶¶¶¶¶¶¶1____________________11¶¶¶¶¶____\n"
        "__________1¶¶¶¶¶¶¶¶¶¶¶¶__11¶¶¶_________________1¶¶¶¶¶¶¶¶¶¶__\n"
        "____________1¶¶1_¶1¶¶¶¶_¶¶¶¶11_______________1¶¶¶¶¶¶¶¶¶¶¶¶¶_\n"
        "____________1¶1__11¶¶¶¶¶¶¶¶____111_______1¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶_\n"
        "____________¶¶¶¶¶¶¶¶1_¶¶¶1¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶1_\n"
        "__________________1¶¶1111___1¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶1__\n"
        "______________________________¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶___\n"
        "______________________________¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶1_¶¶¶¶1___\n"
        "______________________________¶¶¶¶¶¶¶¶¶¶¶¶¶1__¶¶¶1__¶¶¶¶¶1__\n"
        "________________________111¶¶¶¶¶¶__1¶¶¶¶______1¶¶____1¶¶¶¶¶_\n"
        "_______________________¶¶¶¶¶1________¶¶¶_______¶¶_______¶¶¶_\n"
        "______________________¶¶¶_____________¶¶¶_____1¶¶________¶¶_\n"
        "_____________________¶¶¶¶_____________1¶¶__1¶¶¶¶¶________¶¶_\n"
        "_____________________¶¶¶¶_____________1¶¶____11________11¶¶1\n"
        "______________________11_______________¶¶______________¶¶¶¶1\n"
        "_____________________________________11¶¶___________________\n"
        "____________________________________1¶¶¶¶___________________\n");


return 0;
//    FILE *out = fopen("Hamlet_sorted.txt", "a");
}

